{"ast":null,"code":"var _jsxFileName = \"/Users/alireza/Desktop/Admin Panel/tosanex-admin-panel/src/src/_metronic/partials/chat/ChatInner.tsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport { useState } from 'react';\nimport clsx from 'clsx';\nimport { toAbsoluteUrl, defaultMessages, defaultUserInfos, messageFromClient } from '../../helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst bufferMessages = defaultMessages;\n\nconst ChatInner = ({\n  isDrawer = false\n}) => {\n  _s();\n\n  const [chatUpdateFlag, toggleChatUpdateFlat] = useState(false);\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState(bufferMessages);\n  const [userInfos] = useState(defaultUserInfos);\n\n  const sendMessage = () => {\n    const newMessage = {\n      user: 2,\n      type: 'out',\n      text: message,\n      time: 'Just now'\n    };\n    bufferMessages.push(newMessage);\n    setMessages(bufferMessages);\n    toggleChatUpdateFlat(!chatUpdateFlag);\n    setMessage('');\n    setTimeout(() => {\n      bufferMessages.push(messageFromClient);\n      setMessages(() => bufferMessages);\n      toggleChatUpdateFlat(flag => !flag);\n    }, 1000);\n  };\n\n  const onEnterPress = e => {\n    if (e.keyCode === 13 && e.shiftKey === false) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card-body\",\n    id: isDrawer ? 'kt_drawer_chat_messenger_body' : 'kt_chat_messenger_body',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: clsx('scroll-y me-n5 pe-5', {\n        'h-300px h-lg-auto': !isDrawer\n      }),\n      \"data-kt-element\": \"messages\",\n      \"data-kt-scroll\": \"true\",\n      \"data-kt-scroll-activate\": \"{default: false, lg: true}\",\n      \"data-kt-scroll-max-height\": \"auto\",\n      \"data-kt-scroll-dependencies\": isDrawer ? '#kt_drawer_chat_messenger_header, #kt_drawer_chat_messenger_footer' : '#kt_header, #kt_toolbar, #kt_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer',\n      \"data-kt-scroll-wrappers\": isDrawer ? '#kt_drawer_chat_messenger_body' : '#kt_content, #kt_chat_messenger_body',\n      \"data-kt-scroll-offset\": isDrawer ? '0px' : '-2px',\n      children: messages.map((message, index) => {\n        const userInfo = userInfos[message.user];\n        const state = message.type === 'in' ? 'info' : 'primary';\n        const templateAttr = {};\n\n        if (message.template) {\n          Object.defineProperty(templateAttr, 'data-kt-element', {\n            value: `template-${message.type}`\n          });\n        }\n\n        const contentClass = `${isDrawer ? '' : 'd-flex'} justify-content-${message.type === 'in' ? 'start' : 'end'} mb-10`;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: clsx('d-flex', contentClass, 'mb-10', {\n            'd-none': message.template\n          }),\n          ...templateAttr,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: clsx('d-flex flex-column align-items', `align-items-${message.type === 'in' ? 'start' : 'end'}`),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-flex align-items-center mb-2\",\n              children: message.type === 'in' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"symbol  symbol-35px symbol-circle \",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Pic\",\n                    src: toAbsoluteUrl(`/media/${userInfo.avatar}`)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"ms-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    className: \"fs-5 fw-bolder text-gray-900 text-hover-primary me-1\",\n                    children: userInfo.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 103,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted fs-7 mb-1\",\n                    children: message.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 109,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"me-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-muted fs-7 mb-1\",\n                    children: message.time\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: \"#\",\n                    className: \"fs-5 fw-bolder text-gray-900 text-hover-primary ms-1\",\n                    children: \"You\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"symbol  symbol-35px symbol-circle \",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Pic\",\n                    src: toAbsoluteUrl(`/media/${userInfo.avatar}`)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: clsx('p-5 rounded', `bg-light-${state}`, 'text-dark fw-bold mw-lg-400px', `text-${message.type === 'in' ? 'start' : 'end'}`),\n              \"data-kt-element\": \"message-text\",\n              dangerouslySetInnerHTML: {\n                __html: message.text\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, `message${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-footer pt-4\",\n      id: isDrawer ? 'kt_drawer_chat_messenger_footer' : 'kt_chat_messenger_footer',\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"form-control form-control-flush mb-3\",\n        rows: 1,\n        \"data-kt-element\": \"input\",\n        placeholder: \"Type a message\",\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        onKeyDown: onEnterPress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex flex-stack\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex align-items-center me-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-icon btn-active-light-primary me-1\",\n            type: \"button\",\n            \"data-bs-toggle\": \"tooltip\",\n            title: \"Coming soon\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-paperclip fs-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-sm btn-icon btn-active-light-primary me-1\",\n            type: \"button\",\n            \"data-bs-toggle\": \"tooltip\",\n            title: \"Coming soon\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"bi bi-upload fs-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          type: \"button\",\n          \"data-kt-element\": \"send\",\n          onClick: sendMessage,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ChatInner, \"t0/5eokbHSuB4Sep4xQd7HIK8V0=\");\n\n_c = ChatInner;\nexport { ChatInner };\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatInner\");","map":{"version":3,"sources":["/Users/alireza/Desktop/Admin Panel/tosanex-admin-panel/src/src/_metronic/partials/chat/ChatInner.tsx"],"names":["useState","clsx","toAbsoluteUrl","defaultMessages","defaultUserInfos","messageFromClient","bufferMessages","ChatInner","isDrawer","chatUpdateFlag","toggleChatUpdateFlat","message","setMessage","messages","setMessages","userInfos","sendMessage","newMessage","user","type","text","time","push","setTimeout","flag","onEnterPress","e","keyCode","shiftKey","preventDefault","map","index","userInfo","state","templateAttr","template","Object","defineProperty","value","contentClass","avatar","name","__html","target"],"mappings":"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","sourcesContent":["/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport {FC, useState} from 'react'\r\nimport clsx from 'clsx'\r\nimport {\r\n  toAbsoluteUrl,\r\n  defaultMessages,\r\n  defaultUserInfos,\r\n  MessageModel,\r\n  UserInfoModel,\r\n  messageFromClient,\r\n} from '../../helpers'\r\n\r\ntype Props = {\r\n  isDrawer?: boolean\r\n}\r\n\r\nconst bufferMessages = defaultMessages\r\n\r\nconst ChatInner: FC<Props> = ({isDrawer = false}) => {\r\n  const [chatUpdateFlag, toggleChatUpdateFlat] = useState<boolean>(false)\r\n  const [message, setMessage] = useState<string>('')\r\n  const [messages, setMessages] = useState<MessageModel[]>(bufferMessages)\r\n  const [userInfos] = useState<UserInfoModel[]>(defaultUserInfos)\r\n\r\n  const sendMessage = () => {\r\n    const newMessage: MessageModel = {\r\n      user: 2,\r\n      type: 'out',\r\n      text: message,\r\n      time: 'Just now',\r\n    }\r\n\r\n    bufferMessages.push(newMessage)\r\n    setMessages(bufferMessages)\r\n    toggleChatUpdateFlat(!chatUpdateFlag)\r\n    setMessage('')\r\n    setTimeout(() => {\r\n      bufferMessages.push(messageFromClient)\r\n      setMessages(() => bufferMessages)\r\n      toggleChatUpdateFlat((flag) => !flag)\r\n    }, 1000)\r\n  }\r\n\r\n  const onEnterPress = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\r\n    if (e.keyCode === 13 && e.shiftKey === false) {\r\n      e.preventDefault()\r\n      sendMessage()\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className='card-body'\r\n      id={isDrawer ? 'kt_drawer_chat_messenger_body' : 'kt_chat_messenger_body'}\r\n    >\r\n      <div\r\n        className={clsx('scroll-y me-n5 pe-5', {'h-300px h-lg-auto': !isDrawer})}\r\n        data-kt-element='messages'\r\n        data-kt-scroll='true'\r\n        data-kt-scroll-activate='{default: false, lg: true}'\r\n        data-kt-scroll-max-height='auto'\r\n        data-kt-scroll-dependencies={\r\n          isDrawer\r\n            ? '#kt_drawer_chat_messenger_header, #kt_drawer_chat_messenger_footer'\r\n            : '#kt_header, #kt_toolbar, #kt_footer, #kt_chat_messenger_header, #kt_chat_messenger_footer'\r\n        }\r\n        data-kt-scroll-wrappers={\r\n          isDrawer ? '#kt_drawer_chat_messenger_body' : '#kt_content, #kt_chat_messenger_body'\r\n        }\r\n        data-kt-scroll-offset={isDrawer ? '0px' : '-2px'}\r\n      >\r\n        {messages.map((message, index) => {\r\n          const userInfo = userInfos[message.user]\r\n          const state = message.type === 'in' ? 'info' : 'primary'\r\n          const templateAttr = {}\r\n          if (message.template) {\r\n            Object.defineProperty(templateAttr, 'data-kt-element', {\r\n              value: `template-${message.type}`,\r\n            })\r\n          }\r\n          const contentClass = `${isDrawer ? '' : 'd-flex'} justify-content-${\r\n            message.type === 'in' ? 'start' : 'end'\r\n          } mb-10`\r\n          return (\r\n            <div\r\n              key={`message${index}`}\r\n              className={clsx('d-flex', contentClass, 'mb-10', {'d-none': message.template})}\r\n              {...templateAttr}\r\n            >\r\n              <div\r\n                className={clsx(\r\n                  'd-flex flex-column align-items',\r\n                  `align-items-${message.type === 'in' ? 'start' : 'end'}`\r\n                )}\r\n              >\r\n                <div className='d-flex align-items-center mb-2'>\r\n                  {message.type === 'in' ? (\r\n                    <>\r\n                      <div className='symbol  symbol-35px symbol-circle '>\r\n                        <img alt='Pic' src={toAbsoluteUrl(`/media/${userInfo.avatar}`)} />\r\n                      </div>\r\n                      <div className='ms-3'>\r\n                        <a\r\n                          href='#'\r\n                          className='fs-5 fw-bolder text-gray-900 text-hover-primary me-1'\r\n                        >\r\n                          {userInfo.name}\r\n                        </a>\r\n                        <span className='text-muted fs-7 mb-1'>{message.time}</span>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div className='me-3'>\r\n                        <span className='text-muted fs-7 mb-1'>{message.time}</span>\r\n                        <a\r\n                          href='#'\r\n                          className='fs-5 fw-bolder text-gray-900 text-hover-primary ms-1'\r\n                        >\r\n                          You\r\n                        </a>\r\n                      </div>\r\n                      <div className='symbol  symbol-35px symbol-circle '>\r\n                        <img alt='Pic' src={toAbsoluteUrl(`/media/${userInfo.avatar}`)} />\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n\r\n                <div\r\n                  className={clsx(\r\n                    'p-5 rounded',\r\n                    `bg-light-${state}`,\r\n                    'text-dark fw-bold mw-lg-400px',\r\n                    `text-${message.type === 'in' ? 'start' : 'end'}`\r\n                  )}\r\n                  data-kt-element='message-text'\r\n                  dangerouslySetInnerHTML={{__html: message.text}}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          )\r\n        })}\r\n      </div>\r\n\r\n      <div\r\n        className='card-footer pt-4'\r\n        id={isDrawer ? 'kt_drawer_chat_messenger_footer' : 'kt_chat_messenger_footer'}\r\n      >\r\n        <textarea\r\n          className='form-control form-control-flush mb-3'\r\n          rows={1}\r\n          data-kt-element='input'\r\n          placeholder='Type a message'\r\n          value={message}\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          onKeyDown={onEnterPress}\r\n        ></textarea>\r\n\r\n        <div className='d-flex flex-stack'>\r\n          <div className='d-flex align-items-center me-2'>\r\n            <button\r\n              className='btn btn-sm btn-icon btn-active-light-primary me-1'\r\n              type='button'\r\n              data-bs-toggle='tooltip'\r\n              title='Coming soon'\r\n            >\r\n              <i className='bi bi-paperclip fs-3'></i>\r\n            </button>\r\n            <button\r\n              className='btn btn-sm btn-icon btn-active-light-primary me-1'\r\n              type='button'\r\n              data-bs-toggle='tooltip'\r\n              title='Coming soon'\r\n            >\r\n              <i className='bi bi-upload fs-3'></i>\r\n            </button>\r\n          </div>\r\n          <button\r\n            className='btn btn-primary'\r\n            type='button'\r\n            data-kt-element='send'\r\n            onClick={sendMessage}\r\n          >\r\n            Send\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport {ChatInner}\r\n"]},"metadata":{},"sourceType":"module"}