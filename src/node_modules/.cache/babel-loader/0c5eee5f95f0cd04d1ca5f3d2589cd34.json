{"ast":null,"code":"//\n// Main\n//\nexport default function memoize(fn, options) {\n  var cache = options && options.cache ? options.cache : cacheDefault;\n  var serializer = options && options.serializer ? options.serializer : serializerDefault;\n  var strategy = options && options.strategy ? options.strategy : strategyDefault;\n  return strategy(fn, {\n    cache: cache,\n    serializer: serializer\n  });\n} //\n// Strategy\n//\n\nfunction isPrimitive(value) {\n  return value == null || typeof value === 'number' || typeof value === 'boolean'; // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\n\nfunction monadic(fn, cache, serializer, arg) {\n  var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.call(this, arg);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction variadic(fn, cache, serializer) {\n  var args = Array.prototype.slice.call(arguments, 3);\n  var cacheKey = serializer(args);\n  var computedValue = cache.get(cacheKey);\n\n  if (typeof computedValue === 'undefined') {\n    computedValue = fn.apply(this, args);\n    cache.set(cacheKey, computedValue);\n  }\n\n  return computedValue;\n}\n\nfunction assemble(fn, context, strategy, cache, serialize) {\n  return strategy.bind(context, fn, cache, serialize);\n}\n\nfunction strategyDefault(fn, options) {\n  var strategy = fn.length === 1 ? monadic : variadic;\n  return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\n\nfunction strategyVariadic(fn, options) {\n  return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\n\nfunction strategyMonadic(fn, options) {\n  return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n} //\n// Serializer\n//\n\n\nvar serializerDefault = function () {\n  return JSON.stringify(arguments);\n}; //\n// Cache\n//\n\n\nfunction ObjectWithoutPrototypeCache() {\n  this.cache = Object.create(null);\n}\n\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n  return key in this.cache;\n};\n\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n  return this.cache[key];\n};\n\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n  this.cache[key] = value;\n};\n\nvar cacheDefault = {\n  create: function create() {\n    // @ts-ignore\n    return new ObjectWithoutPrototypeCache();\n  }\n};\nexport var strategies = {\n  variadic: strategyVariadic,\n  monadic: strategyMonadic\n};","map":{"version":3,"sources":["/Users/alireza/Desktop/Admin Panel/tosanex-admin-panel/src/node_modules/@formatjs/fast-memoize/lib/index.js"],"names":["memoize","fn","options","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","isPrimitive","value","monadic","arg","cacheKey","computedValue","get","call","set","variadic","args","Array","prototype","slice","arguments","apply","assemble","context","serialize","bind","length","create","strategyVariadic","strategyMonadic","JSON","stringify","ObjectWithoutPrototypeCache","Object","has","key","strategies"],"mappings":"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","sourcesContent":["//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.has = function (key) {\n    return key in this.cache;\n};\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n"]},"metadata":{},"sourceType":"module"}