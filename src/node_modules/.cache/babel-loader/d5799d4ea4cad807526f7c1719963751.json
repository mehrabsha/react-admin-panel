{"ast":null,"code":"import { ElementStyleUtil } from './_ElementStyleUtil';\nimport { DataUtil } from './_DataUtil';\nimport { ElementAnimateUtil } from './ElementAnimateUtil';\nimport { getObjectPropertyValueByKey, toJSON } from './_TypesHelpers';\n\nfunction getCSS(el, styleProp) {\n  const defaultView = (el.ownerDocument || document).defaultView;\n\n  if (!defaultView) {\n    return '';\n  } // sanitize property name to css notation\n  // (hyphen separated words eg. font-Size)\n\n\n  styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase();\n  return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp);\n}\n\nfunction getCSSVariableValue(variableName) {\n  let hex = getComputedStyle(document.documentElement).getPropertyValue(variableName);\n\n  if (hex && hex.length > 0) {\n    hex = hex.trim();\n  }\n\n  return hex;\n}\n\nfunction getElementActualCss(el, prop, cache) {\n  let css = '';\n\n  if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\n    let value; // the element is hidden so:\n    // making the el block so we can meassure its height but still be hidden\n\n    css = el.style.cssText;\n    el.style.cssText = 'position: absolute; visibility: hidden; display: block;';\n\n    if (prop === 'width') {\n      value = el.offsetWidth;\n    } else if (prop === 'height') {\n      value = el.offsetHeight;\n    }\n\n    el.style.cssText = css; // store it in cache\n\n    if (value !== undefined) {\n      el.setAttribute('kt-hidden-' + prop, value.toString());\n      return parseFloat(value.toString());\n    }\n\n    return 0;\n  } else {\n    // store it in cache\n    const attributeValue = el.getAttribute('kt-hidden-' + prop);\n\n    if (attributeValue || attributeValue === '0') {\n      return parseFloat(attributeValue);\n    }\n  }\n}\n\nfunction getElementActualHeight(el) {\n  return getElementActualCss(el, 'height', false);\n}\n\nfunction getElementActualWidth(el, cache) {\n  return getElementActualCss(el, 'width', false);\n}\n\nfunction getElementIndex(element) {\n  if (element.parentNode) {\n    const c = element.parentNode.children;\n\n    for (let i = 0; i < c.length; i++) {\n      if (c[i] === element) return i;\n    }\n  }\n\n  return -1;\n} // https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\n\n\nfunction getElementMatches(element, selector) {\n  const p = Element.prototype;\n  const f = p.matches || p.webkitMatchesSelector;\n\n  if (element && element.tagName) {\n    return f.call(element, selector);\n  } else {\n    return false;\n  }\n}\n\nfunction getElementOffset(el) {\n  // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\n  // Support: IE <=11 only\n  // Running getBoundingClientRect on a\n  // disconnected node in IE throws an error\n  if (!el.getClientRects().length) {\n    return {\n      top: 0,\n      left: 0\n    };\n  } // Get document-relative position by adding viewport scroll to viewport-relative gBCR\n\n\n  const rect = el.getBoundingClientRect();\n  const win = el.ownerDocument.defaultView;\n\n  if (win) {\n    return {\n      top: rect.top + win.pageYOffset,\n      left: rect.left + win.pageXOffset\n    };\n  }\n\n  return rect;\n}\n\nfunction getElementParents(element, selector) {\n  // Element.matches() polyfill\n  if (!Element.prototype.matches) {\n    Element.prototype.matches = function (s) {\n      const matches = (document || this.ownerDocument).querySelectorAll(s);\n      let i = matches.length;\n\n      while (--i >= 0 && matches.item(i) !== this) {}\n\n      return i > -1;\n    };\n  } // Set up a parent array\n\n\n  const parents = [];\n  let el = element; // Push each parent element to the array\n\n  for (; el && el !== document.body; el = el.parentElement) {\n    if (selector) {\n      if (el.matches(selector)) {\n        parents.push(el);\n      }\n\n      continue;\n    }\n\n    parents.push(el);\n  } // Return our parent array\n\n\n  return parents;\n}\n\nfunction getHighestZindex(el) {\n  let bufferNode = el;\n  let buffer = el;\n\n  while (bufferNode && bufferNode !== document) {\n    // Ignore z-index if position is set to a value where z-index is ignored by the browser\n    // This makes behavior of this function consistent across browsers\n    // WebKit always returns auto if the element is positioned\n    const position = buffer.style.getPropertyValue('position');\n\n    if (position === 'absolute' || position === 'relative' || position === 'fixed') {\n      // IE returns 0 when zIndex is not specified\n      // other browsers return a string\n      // we ignore the case of nested elements with an explicit value of 0\n      // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\n      const value = parseInt(buffer.style.getPropertyValue('z-index'));\n\n      if (!isNaN(value) && value !== 0) {\n        return value;\n      }\n    }\n\n    bufferNode = bufferNode.parentNode;\n    buffer = bufferNode;\n  }\n\n  return null;\n}\n\nfunction getScrollTop() {\n  return (document.scrollingElement || document.documentElement).scrollTop;\n} // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth\n\n\nfunction getViewPort() {\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight\n  };\n}\n\nfunction insertAfterElement(el, referenceNode) {\n  var _referenceNode$parent;\n\n  return (_referenceNode$parent = referenceNode.parentNode) === null || _referenceNode$parent === void 0 ? void 0 : _referenceNode$parent.insertBefore(el, referenceNode.nextSibling);\n}\n\nfunction isElementHasClasses(element, classesStr) {\n  const classes = classesStr.split(' ');\n\n  for (let i = 0; i < classes.length; i++) {\n    if (!element.classList.contains(classes[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isVisibleElement(element) {\n  return !(element.offsetWidth === 0 && element.offsetHeight === 0);\n} // Throttle function: Input as function which needs to be throttled and delay is the time interval in milliseconds\n\n\nfunction throttle(timer, func, delay) {\n  // If setTimeout is already scheduled, no need to do anything\n  if (timer) {\n    return;\n  } // Schedule a setTimeout after delay seconds\n\n\n  timer = window.setTimeout(function () {\n    func(); // Once setTimeout function execution is finished, timerId = undefined so that in <br>\n    // the next scroll event function execution can be scheduled by the setTimeout\n\n    timer = undefined;\n  }, delay);\n}\n\nfunction getElementChildren(element, selector) {\n  if (!element || !element.childNodes) {\n    return null;\n  }\n\n  const result = [];\n\n  for (let i = 0; i < element.childNodes.length; i++) {\n    const child = element.childNodes[i]; // child.nodeType == 1 => Element, Text, Comment, ProcessingInstruction, CDATASection, EntityReference\n\n    if (child.nodeType === 1 && getElementMatches(child, selector)) {\n      result.push(child);\n    }\n  }\n\n  return result;\n}\n\nfunction getElementChild(element, selector) {\n  const children = getElementChildren(element, selector);\n  return children ? children[0] : null;\n}\n\nfunction isMobileDevice() {\n  let test = getViewPort().width < +getBreakpoint('lg') ? true : false;\n\n  if (test === false) {\n    // For use within normal web clients\n    test = navigator.userAgent.match(/iPad/i) != null;\n  }\n\n  return test;\n}\n\nfunction slide(el, dir, speed, callback) {\n  if (!el || dir === 'up' && isVisibleElement(el) === false || dir === 'down' && isVisibleElement(el) === true) {\n    return;\n  }\n\n  speed = speed ? speed : 600;\n  let calcHeight = getElementActualHeight(el);\n  let calcPaddingTop = 0;\n  let calcPaddingBottom = 0;\n\n  if (ElementStyleUtil.get(el, 'padding-top') && DataUtil.get(el, 'slide-padding-top') !== true) {\n    DataUtil.set(el, 'slide-padding-top', ElementStyleUtil.get(el, 'padding-top'));\n  }\n\n  if (ElementStyleUtil.get(el, 'padding-bottom') && DataUtil.has(el, 'slide-padding-bottom') !== true) {\n    DataUtil.set(el, 'slide-padding-bottom', ElementStyleUtil.get(el, 'padding-bottom'));\n  }\n\n  if (DataUtil.has(el, 'slide-padding-top')) {\n    calcPaddingTop = parseInt(DataUtil.get(el, 'slide-padding-top'));\n  }\n\n  if (DataUtil.has(el, 'slide-padding-bottom')) {\n    calcPaddingBottom = parseInt(DataUtil.get(el, 'slide-padding-bottom'));\n  }\n\n  if (dir === 'up') {\n    // up\n    el.style.cssText = 'display: block; overflow: hidden;';\n\n    if (calcPaddingTop) {\n      ElementAnimateUtil.animate(0, calcPaddingTop, speed, function (value) {\n        el.style.paddingTop = calcPaddingTop - value + 'px';\n      });\n    }\n\n    if (calcPaddingBottom) {\n      ElementAnimateUtil.animate(0, calcPaddingBottom, speed, function (value) {\n        el.style.paddingBottom = calcPaddingBottom - value + 'px';\n      });\n    }\n\n    ElementAnimateUtil.animate(0, calcHeight || 0, speed, function (value) {\n      el.style.height = (calcHeight || 0) - value + 'px';\n    }, function () {\n      el.style.height = '';\n      el.style.display = 'none';\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    });\n  } else if (dir === 'down') {\n    // down\n    el.style.cssText = 'display: block; overflow: hidden;';\n\n    if (calcPaddingTop) {\n      ElementAnimateUtil.animate(0, calcPaddingTop, speed, function (value) {\n        //\n        el.style.paddingTop = value + 'px';\n      }, function () {\n        el.style.paddingTop = '';\n      });\n    }\n\n    if (calcPaddingBottom) {\n      ElementAnimateUtil.animate(0, calcPaddingBottom, speed, function (value) {\n        el.style.paddingBottom = value + 'px';\n      }, function () {\n        el.style.paddingBottom = '';\n      });\n    }\n\n    ElementAnimateUtil.animate(0, calcHeight || 0, speed, function (value) {\n      el.style.height = value + 'px';\n    }, function () {\n      el.style.height = '';\n      el.style.display = '';\n      el.style.overflow = '';\n\n      if (typeof callback === 'function') {\n        callback();\n      }\n    });\n  }\n}\n\nfunction slideUp(el, speed, callback) {\n  slide(el, 'up', speed, callback);\n}\n\nfunction slideDown(el, speed, callback) {\n  slide(el, 'down', speed, callback);\n}\n\nfunction getBreakpoint(breakpoint) {\n  let value = getCSSVariableValue('--bs-' + breakpoint);\n\n  if (value) {\n    value = parseInt(value.trim());\n  }\n\n  return value;\n}\n\nfunction getAttributeValueByBreakpoint(incomingAttr) {\n  let value = toJSON(incomingAttr);\n\n  if (typeof value !== 'object') {\n    return incomingAttr;\n  }\n\n  const width = getViewPort().width;\n  let resultKey;\n  let resultBreakpoint = -1;\n  let breakpoint;\n\n  for (let key in value) {\n    if (key === 'default') {\n      breakpoint = 0;\n    } else {\n      breakpoint = getBreakpoint(key) ? +getBreakpoint(key) : parseInt(key);\n    }\n\n    if (breakpoint <= width && breakpoint > resultBreakpoint) {\n      resultKey = key;\n      resultBreakpoint = breakpoint;\n    }\n  }\n\n  return resultKey ? getObjectPropertyValueByKey(value, resultKey) : value;\n}\n\nfunction colorLighten(color, amount) {\n  const addLight = (_color, _amount) => {\n    const cc = parseInt(_color, 16) + _amount;\n\n    const cNum = cc > 255 ? 255 : cc;\n    const c = cNum.toString(16).length > 1 ? cNum.toString(16) : `0${cNum.toString(16)}`;\n    return c;\n  };\n\n  color = color.indexOf('#') >= 0 ? color.substring(1, color.length) : color;\n  amount = parseInt((255 * amount / 100).toString());\n  return color = `#${addLight(color.substring(0, 2), amount)}${addLight(color.substring(2, 4), amount)}${addLight(color.substring(4, 6), amount)}`;\n}\n\nfunction colorDarken(color, amount) {\n  const subtractLight = (_color, _amount) => {\n    const cc = parseInt(color, 16) - amount;\n    const cNum = cc < 0 ? 0 : cc;\n    const c = cNum.toString(16).length > 1 ? cNum.toString(16) : `0${cNum.toString(16)}`;\n    return c;\n  };\n\n  color = color.indexOf('#') >= 0 ? color.substring(1, color.length) : color;\n  amount = parseInt((255 * amount / 100).toString());\n  return color = `#${subtractLight(color.substring(0, 2), amount)}${subtractLight(color.substring(2, 4), amount)}${subtractLight(color.substring(4, 6), amount)}`;\n}\n\nexport { getBreakpoint, getCSS, getCSSVariableValue, getElementActualCss, getElementActualHeight, getElementActualWidth, getElementIndex, getElementMatches, getElementOffset, getElementParents, getHighestZindex, getScrollTop, getViewPort, insertAfterElement, isElementHasClasses, isVisibleElement, throttle, getElementChildren, getElementChild, isMobileDevice, slide, slideUp, slideDown, getAttributeValueByBreakpoint, colorLighten, colorDarken };","map":{"version":3,"sources":["/Users/alireza/Desktop/Admin Panel/tosanex-admin-panel/src/src/_metronic/assets/ts/_utils/DomHelpers.ts"],"names":["ElementStyleUtil","DataUtil","ElementAnimateUtil","getObjectPropertyValueByKey","toJSON","getCSS","el","styleProp","defaultView","ownerDocument","document","replace","toLowerCase","getComputedStyle","getPropertyValue","getCSSVariableValue","variableName","hex","documentElement","length","trim","getElementActualCss","prop","cache","css","getAttribute","value","style","cssText","offsetWidth","offsetHeight","undefined","setAttribute","toString","parseFloat","attributeValue","getElementActualHeight","getElementActualWidth","getElementIndex","element","parentNode","c","children","i","getElementMatches","selector","p","Element","prototype","f","matches","webkitMatchesSelector","tagName","call","getElementOffset","getClientRects","top","left","rect","getBoundingClientRect","win","pageYOffset","pageXOffset","getElementParents","s","querySelectorAll","item","parents","body","parentElement","push","getHighestZindex","bufferNode","buffer","position","parseInt","isNaN","getScrollTop","scrollingElement","scrollTop","getViewPort","width","window","innerWidth","height","innerHeight","insertAfterElement","referenceNode","insertBefore","nextSibling","isElementHasClasses","classesStr","classes","split","classList","contains","isVisibleElement","throttle","timer","func","delay","setTimeout","getElementChildren","childNodes","result","child","nodeType","getElementChild","isMobileDevice","test","getBreakpoint","navigator","userAgent","match","slide","dir","speed","callback","calcHeight","calcPaddingTop","calcPaddingBottom","get","set","has","animate","paddingTop","paddingBottom","display","overflow","slideUp","slideDown","breakpoint","getAttributeValueByBreakpoint","incomingAttr","resultKey","resultBreakpoint","key","colorLighten","color","amount","addLight","_color","_amount","cc","cNum","indexOf","substring","colorDarken","subtractLight"],"mappings":"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","sourcesContent":["import {OffsetModel} from './models/OffsetModel'\r\nimport {ViewPortModel} from './models/ViewPortModel'\r\nimport {ElementStyleUtil} from './_ElementStyleUtil'\r\nimport {DataUtil} from './_DataUtil'\r\nimport {ElementAnimateUtil} from './ElementAnimateUtil'\r\nimport {getObjectPropertyValueByKey, toJSON} from './_TypesHelpers'\r\n\r\nfunction getCSS(el: HTMLElement, styleProp: string) {\r\n  const defaultView = (el.ownerDocument || document).defaultView\r\n\r\n  if (!defaultView) {\r\n    return ''\r\n  }\r\n\r\n  // sanitize property name to css notation\r\n  // (hyphen separated words eg. font-Size)\r\n  styleProp = styleProp.replace(/([A-Z])/g, '-$1').toLowerCase()\r\n\r\n  return defaultView.getComputedStyle(el, null).getPropertyValue(styleProp)\r\n}\r\n\r\nfunction getCSSVariableValue(variableName: string) {\r\n  let hex = getComputedStyle(document.documentElement).getPropertyValue(variableName)\r\n  if (hex && hex.length > 0) {\r\n    hex = hex.trim()\r\n  }\r\n\r\n  return hex\r\n}\r\n\r\nfunction getElementActualCss(el: HTMLElement, prop: any, cache: boolean) {\r\n  let css = ''\r\n\r\n  if (!el.getAttribute('kt-hidden-' + prop) || cache === false) {\r\n    let value\r\n\r\n    // the element is hidden so:\r\n    // making the el block so we can meassure its height but still be hidden\r\n    css = el.style.cssText\r\n    el.style.cssText = 'position: absolute; visibility: hidden; display: block;'\r\n\r\n    if (prop === 'width') {\r\n      value = el.offsetWidth\r\n    } else if (prop === 'height') {\r\n      value = el.offsetHeight\r\n    }\r\n\r\n    el.style.cssText = css\r\n\r\n    // store it in cache\r\n    if (value !== undefined) {\r\n      el.setAttribute('kt-hidden-' + prop, value.toString())\r\n      return parseFloat(value.toString())\r\n    }\r\n    return 0\r\n  } else {\r\n    // store it in cache\r\n    const attributeValue = el.getAttribute('kt-hidden-' + prop)\r\n    if (attributeValue || attributeValue === '0') {\r\n      return parseFloat(attributeValue)\r\n    }\r\n  }\r\n}\r\n\r\nfunction getElementActualHeight(el: HTMLElement) {\r\n  return getElementActualCss(el, 'height', false)\r\n}\r\n\r\nfunction getElementActualWidth(el: HTMLElement, cache?: boolean) {\r\n  return getElementActualCss(el, 'width', false)\r\n}\r\n\r\nfunction getElementIndex(element: HTMLElement) {\r\n  if (element.parentNode) {\r\n    const c = element.parentNode.children\r\n    for (let i = 0; i < c.length; i++) {\r\n      if (c[i] === element) return i\r\n    }\r\n  }\r\n  return -1\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\r\nfunction getElementMatches(element: HTMLElement, selector: string) {\r\n  const p = Element.prototype\r\n  const f = p.matches || p.webkitMatchesSelector\r\n\r\n  if (element && element.tagName) {\r\n    return f.call(element, selector)\r\n  } else {\r\n    return false\r\n  }\r\n}\r\n\r\nfunction getElementOffset(el: HTMLElement): OffsetModel {\r\n  // Return zeros for disconnected and hidden (display: none) elements (gh-2310)\r\n  // Support: IE <=11 only\r\n  // Running getBoundingClientRect on a\r\n  // disconnected node in IE throws an error\r\n  if (!el.getClientRects().length) {\r\n    return {top: 0, left: 0}\r\n  }\r\n\r\n  // Get document-relative position by adding viewport scroll to viewport-relative gBCR\r\n  const rect = el.getBoundingClientRect()\r\n  const win = el.ownerDocument.defaultView\r\n  if (win) {\r\n    return {\r\n      top: rect.top + win.pageYOffset,\r\n      left: rect.left + win.pageXOffset,\r\n    }\r\n  }\r\n\r\n  return rect\r\n}\r\n\r\nfunction getElementParents(element: Element, selector: string) {\r\n  // Element.matches() polyfill\r\n  if (!Element.prototype.matches) {\r\n    Element.prototype.matches = function (s) {\r\n      const matches = (document || this.ownerDocument).querySelectorAll(s)\r\n      let i = matches.length\r\n      while (--i >= 0 && matches.item(i) !== this) {}\r\n      return i > -1\r\n    }\r\n  }\r\n\r\n  // Set up a parent array\r\n  const parents = []\r\n\r\n  let el: Element | null = element\r\n\r\n  // Push each parent element to the array\r\n  for (; el && el !== document.body; el = el.parentElement) {\r\n    if (selector) {\r\n      if (el.matches(selector)) {\r\n        parents.push(el)\r\n      }\r\n      continue\r\n    }\r\n    parents.push(el)\r\n  }\r\n\r\n  // Return our parent array\r\n  return parents\r\n}\r\n\r\nfunction getHighestZindex(el: HTMLElement) {\r\n  let bufferNode: Node | null = el as Node\r\n  let buffer = el\r\n  while (bufferNode && bufferNode !== document) {\r\n    // Ignore z-index if position is set to a value where z-index is ignored by the browser\r\n    // This makes behavior of this function consistent across browsers\r\n    // WebKit always returns auto if the element is positioned\r\n    const position = buffer.style.getPropertyValue('position')\r\n    if (position === 'absolute' || position === 'relative' || position === 'fixed') {\r\n      // IE returns 0 when zIndex is not specified\r\n      // other browsers return a string\r\n      // we ignore the case of nested elements with an explicit value of 0\r\n      // <div style=\"z-index: -10;\"><div style=\"z-index: 0;\"></div></div>\r\n      const value = parseInt(buffer.style.getPropertyValue('z-index'))\r\n      if (!isNaN(value) && value !== 0) {\r\n        return value\r\n      }\r\n    }\r\n\r\n    bufferNode = bufferNode.parentNode\r\n    buffer = bufferNode as HTMLElement\r\n  }\r\n  return null\r\n}\r\n\r\nfunction getScrollTop(): number {\r\n  return (document.scrollingElement || document.documentElement).scrollTop\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth\r\nfunction getViewPort(): ViewPortModel {\r\n  return {\r\n    width: window.innerWidth,\r\n    height: window.innerHeight,\r\n  }\r\n}\r\n\r\nfunction insertAfterElement(el: HTMLElement, referenceNode: HTMLElement) {\r\n  return referenceNode.parentNode?.insertBefore(el, referenceNode.nextSibling)\r\n}\r\n\r\nfunction isElementHasClasses(element: HTMLElement, classesStr: string): boolean {\r\n  const classes = classesStr.split(' ')\r\n  for (let i = 0; i < classes.length; i++) {\r\n    if (!element.classList.contains(classes[i])) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nfunction isVisibleElement(element: HTMLElement): boolean {\r\n  return !(element.offsetWidth === 0 && element.offsetHeight === 0)\r\n}\r\n\r\n// Throttle function: Input as function which needs to be throttled and delay is the time interval in milliseconds\r\nfunction throttle(timer: number | undefined, func: Function, delay?: number) {\r\n  // If setTimeout is already scheduled, no need to do anything\r\n  if (timer) {\r\n    return\r\n  }\r\n\r\n  // Schedule a setTimeout after delay seconds\r\n  timer = window.setTimeout(function () {\r\n    func()\r\n\r\n    // Once setTimeout function execution is finished, timerId = undefined so that in <br>\r\n    // the next scroll event function execution can be scheduled by the setTimeout\r\n    timer = undefined\r\n  }, delay)\r\n}\r\n\r\nfunction getElementChildren(element: HTMLElement, selector: string): Array<HTMLElement> | null {\r\n  if (!element || !element.childNodes) {\r\n    return null\r\n  }\r\n\r\n  const result: Array<HTMLElement> = []\r\n  for (let i = 0; i < element.childNodes.length; i++) {\r\n    const child = element.childNodes[i]\r\n    // child.nodeType == 1 => Element, Text, Comment, ProcessingInstruction, CDATASection, EntityReference\r\n    if (child.nodeType === 1 && getElementMatches(child as HTMLElement, selector)) {\r\n      result.push(child as HTMLElement)\r\n    }\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nfunction getElementChild(element: HTMLElement, selector: string): HTMLElement | null {\r\n  const children = getElementChildren(element, selector)\r\n  return children ? children[0] : null\r\n}\r\n\r\nfunction isMobileDevice(): boolean {\r\n  let test = getViewPort().width < +getBreakpoint('lg') ? true : false\r\n\r\n  if (test === false) {\r\n    // For use within normal web clients\r\n    test = navigator.userAgent.match(/iPad/i) != null\r\n  }\r\n\r\n  return test\r\n}\r\n\r\nfunction slide(el: HTMLElement, dir: string, speed: number, callback: any) {\r\n  if (\r\n    !el ||\r\n    (dir === 'up' && isVisibleElement(el) === false) ||\r\n    (dir === 'down' && isVisibleElement(el) === true)\r\n  ) {\r\n    return\r\n  }\r\n\r\n  speed = speed ? speed : 600\r\n  let calcHeight = getElementActualHeight(el)\r\n  let calcPaddingTop: number = 0\r\n  let calcPaddingBottom: number = 0\r\n\r\n  if (ElementStyleUtil.get(el, 'padding-top') && DataUtil.get(el, 'slide-padding-top') !== true) {\r\n    DataUtil.set(el, 'slide-padding-top', ElementStyleUtil.get(el, 'padding-top'))\r\n  }\r\n\r\n  if (\r\n    ElementStyleUtil.get(el, 'padding-bottom') &&\r\n    DataUtil.has(el, 'slide-padding-bottom') !== true\r\n  ) {\r\n    DataUtil.set(el, 'slide-padding-bottom', ElementStyleUtil.get(el, 'padding-bottom'))\r\n  }\r\n\r\n  if (DataUtil.has(el, 'slide-padding-top')) {\r\n    calcPaddingTop = parseInt(DataUtil.get(el, 'slide-padding-top'))\r\n  }\r\n\r\n  if (DataUtil.has(el, 'slide-padding-bottom')) {\r\n    calcPaddingBottom = parseInt(DataUtil.get(el, 'slide-padding-bottom'))\r\n  }\r\n\r\n  if (dir === 'up') {\r\n    // up\r\n    el.style.cssText = 'display: block; overflow: hidden;'\r\n\r\n    if (calcPaddingTop) {\r\n      ElementAnimateUtil.animate(0, calcPaddingTop, speed, function (value: number) {\r\n        el.style.paddingTop = calcPaddingTop - value + 'px'\r\n      })\r\n    }\r\n\r\n    if (calcPaddingBottom) {\r\n      ElementAnimateUtil.animate(0, calcPaddingBottom, speed, function (value: number) {\r\n        el.style.paddingBottom = calcPaddingBottom - value + 'px'\r\n      })\r\n    }\r\n\r\n    ElementAnimateUtil.animate(\r\n      0,\r\n      calcHeight || 0,\r\n      speed,\r\n      function (value: number) {\r\n        el.style.height = (calcHeight || 0) - value + 'px'\r\n      },\r\n      function () {\r\n        el.style.height = ''\r\n        el.style.display = 'none'\r\n\r\n        if (typeof callback === 'function') {\r\n          callback()\r\n        }\r\n      }\r\n    )\r\n  } else if (dir === 'down') {\r\n    // down\r\n    el.style.cssText = 'display: block; overflow: hidden;'\r\n\r\n    if (calcPaddingTop) {\r\n      ElementAnimateUtil.animate(\r\n        0,\r\n        calcPaddingTop,\r\n        speed,\r\n        function (value: number) {\r\n          //\r\n          el.style.paddingTop = value + 'px'\r\n        },\r\n        function () {\r\n          el.style.paddingTop = ''\r\n        }\r\n      )\r\n    }\r\n\r\n    if (calcPaddingBottom) {\r\n      ElementAnimateUtil.animate(\r\n        0,\r\n        calcPaddingBottom,\r\n        speed,\r\n        function (value: number) {\r\n          el.style.paddingBottom = value + 'px'\r\n        },\r\n        function () {\r\n          el.style.paddingBottom = ''\r\n        }\r\n      )\r\n    }\r\n\r\n    ElementAnimateUtil.animate(\r\n      0,\r\n      calcHeight || 0,\r\n      speed,\r\n      function (value: number) {\r\n        el.style.height = value + 'px'\r\n      },\r\n      function () {\r\n        el.style.height = ''\r\n        el.style.display = ''\r\n        el.style.overflow = ''\r\n\r\n        if (typeof callback === 'function') {\r\n          callback()\r\n        }\r\n      }\r\n    )\r\n  }\r\n}\r\n\r\nfunction slideUp(el: HTMLElement, speed: number, callback: any) {\r\n  slide(el, 'up', speed, callback)\r\n}\r\n\r\nfunction slideDown(el: HTMLElement, speed: number, callback: any) {\r\n  slide(el, 'down', speed, callback)\r\n}\r\n\r\nfunction getBreakpoint(breakpoint: string) {\r\n  let value: number | string = getCSSVariableValue('--bs-' + breakpoint)\r\n  if (value) {\r\n    value = parseInt(value.trim())\r\n  }\r\n\r\n  return value\r\n}\r\n\r\nfunction getAttributeValueByBreakpoint(incomingAttr: string): string | JSON {\r\n  let value = toJSON(incomingAttr)\r\n  if (typeof value !== 'object') {\r\n    return incomingAttr\r\n  }\r\n\r\n  const width = getViewPort().width\r\n  let resultKey\r\n  let resultBreakpoint = -1\r\n  let breakpoint\r\n\r\n  for (let key in value) {\r\n    if (key === 'default') {\r\n      breakpoint = 0\r\n    } else {\r\n      breakpoint = getBreakpoint(key) ? +getBreakpoint(key) : parseInt(key)\r\n    }\r\n\r\n    if (breakpoint <= width && breakpoint > resultBreakpoint) {\r\n      resultKey = key\r\n      resultBreakpoint = breakpoint\r\n    }\r\n  }\r\n\r\n  return resultKey ? getObjectPropertyValueByKey(value, resultKey) : value\r\n}\r\n\r\nfunction colorLighten(color: string, amount: number) {\r\n  const addLight = (_color: string, _amount: number) => {\r\n    const cc = parseInt(_color, 16) + _amount\r\n    const cNum = cc > 255 ? 255 : cc\r\n    const c = cNum.toString(16).length > 1 ? cNum.toString(16) : `0${cNum.toString(16)}`\r\n    return c\r\n  }\r\n\r\n  color = color.indexOf('#') >= 0 ? color.substring(1, color.length) : color\r\n  amount = parseInt(((255 * amount) / 100).toString())\r\n  return (color = `#${addLight(color.substring(0, 2), amount)}${addLight(\r\n    color.substring(2, 4),\r\n    amount\r\n  )}${addLight(color.substring(4, 6), amount)}`)\r\n}\r\n\r\nfunction colorDarken(color: string, amount: number) {\r\n  const subtractLight = (_color: string, _amount: number) => {\r\n    const cc = parseInt(color, 16) - amount\r\n    const cNum = cc < 0 ? 0 : cc\r\n    const c = cNum.toString(16).length > 1 ? cNum.toString(16) : `0${cNum.toString(16)}`\r\n    return c\r\n  }\r\n\r\n  color = color.indexOf('#') >= 0 ? color.substring(1, color.length) : color\r\n  amount = parseInt(((255 * amount) / 100).toString())\r\n\r\n  return (color = `#${subtractLight(color.substring(0, 2), amount)}${subtractLight(\r\n    color.substring(2, 4),\r\n    amount\r\n  )}${subtractLight(color.substring(4, 6), amount)}`)\r\n}\r\n\r\nexport {\r\n  getBreakpoint,\r\n  getCSS,\r\n  getCSSVariableValue,\r\n  getElementActualCss,\r\n  getElementActualHeight,\r\n  getElementActualWidth,\r\n  getElementIndex,\r\n  getElementMatches,\r\n  getElementOffset,\r\n  getElementParents,\r\n  getHighestZindex,\r\n  getScrollTop,\r\n  getViewPort,\r\n  insertAfterElement,\r\n  isElementHasClasses,\r\n  isVisibleElement,\r\n  throttle,\r\n  getElementChildren,\r\n  getElementChild,\r\n  isMobileDevice,\r\n  slide,\r\n  slideUp,\r\n  slideDown,\r\n  getAttributeValueByBreakpoint,\r\n  colorLighten,\r\n  colorDarken,\r\n}\r\n"]},"metadata":{},"sourceType":"module"}